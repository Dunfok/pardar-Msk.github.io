<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ ParDar-msk">
  <title>–û–ø–ª–∞—Ç–∞ - ParDar-msk</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/responsive.css" />
  
  <!-- Favicon -->
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
</head>
<body>

  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="logo-container">
      <img src="images/logo-bg.png" alt="–õ–æ–≥–æ—Ç–∏–ø ParDar-msk" class="logo-img">
      <h1>ParDar-msk</h1>
    </div>
    <ul>
      <li><a href="assortment.html">–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç</a></li>
      <li><a href="index.html#reviews">–û—Ç–∑—ã–≤—ã</a></li>
      <li><a href="index.html#address">–ê–¥—Ä–µ—Å</a></li>
    </ul>
  </nav>

  <!-- –ë–ª–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º -->
  <header class="hero">
    <h1>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h1>
    <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à –∑–∞–∫–∞–∑ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</p>
  </header>

  <!-- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ -->
  <section class="checkout-section">
    <div class="checkout-container">
      <div class="order-summary">
        <h2>–í–∞—à –∑–∞–∫–∞–∑</h2>
        <div id="order-items" class="order-items">
          <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
        </div>
        <div class="order-total">
          <strong>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: <span id="order-total">0</span> ‚ÇΩ</strong>
        </div>
      </div>
      
      <div class="payment-methods">
        <h2>–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</h2>
        <div class="payment-options">
          <div class="payment-option" onclick="selectPayment('card')">
            <input type="radio" name="payment" id="card" value="card">
            <label for="card">
              <div class="payment-icon">üí≥</div>
              <div>
                <h3>–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</h3>
                <p>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑</p>
              </div>
            </label>
          </div>
          
          <div class="payment-option" onclick="selectPayment('sbp')">
            <input type="radio" name="payment" id="sbp" value="sbp">
            <label for="sbp">
              <div class="payment-icon">üì±</div>
              <div>
                <h3>–°–ë–ü (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)</h3>
                <p>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–∞–Ω–∫–∞</p>
              </div>
            </label>
          </div>
          
          <div class="payment-option" onclick="selectPayment('qiwi')">
            <input type="radio" name="payment" id="qiwi" value="qiwi">
            <label for="qiwi">
              <div class="payment-icon">ü•ù</div>
              <div>
                <h3>QIWI –ö–æ—à–µ–ª–µ–∫</h3>
                <p>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ QIWI –∫–æ—à–µ–ª–µ–∫</p>
              </div>
            </label>
          </div>
        </div>
        
        <button id="pay-btn" class="pay-btn" onclick="processPayment()">–û–ø–ª–∞—Ç–∏—Ç—å –∑–∞–∫–∞–∑</button>
      </div>
    </div>
  </section>

  <script>
    // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    function loadOrder() {
      const savedCart = localStorage.getItem('cart');
      const orderItems = document.getElementById('order-items');
      const orderTotal = document.getElementById('order-total');
      
      if (savedCart && orderItems && orderTotal) {
        const cart = JSON.parse(savedCart);
        if (cart.length === 0) {
          orderItems.innerHTML = '<p class="empty-cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
          return;
        }
        
        orderItems.innerHTML = cart.map(item => `
          <div class="order-item">
            <img src="${item.image}" alt="${item.name}" class="order-item-image">
            <div class="order-item-details">
              <h4>${item.name}</h4>
              <p>${item.quantity} √ó ${item.price} ‚ÇΩ</p>
            </div>
            <div class="order-item-total">${item.quantity * item.price} ‚ÇΩ</div>
          </div>
        `).join('');
        
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        orderTotal.textContent = total;
      }
    }
    
    // –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
    function selectPayment(method) {
      document.querySelectorAll('input[name="payment"]').forEach(radio => {
        radio.checked = false;
      });
      document.getElementById(method).checked = true;
    }
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã
    function processPayment() {
      const selectedPayment = document.querySelector('input[name="payment"]:checked');
      if (!selectedPayment) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã');
        return;
      }
      
      const total = document.getElementById('order-total').textContent;
      
      // –ò–º–∏—Ç–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π)
      alert(`–ó–∞–∫–∞–∑ –Ω–∞ —Å—É–º–º—É ${total} ‚ÇΩ –±—É–¥–µ—Ç –æ–ø–ª–∞—á–µ–Ω —á–µ—Ä–µ–∑ ${selectedPayment.value}. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!`);
      
      // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
      localStorage.removeItem('cart');
      
      // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
      window.location.href = 'success.html';
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      loadOrder();
    });
  </script>
</body>
</html>